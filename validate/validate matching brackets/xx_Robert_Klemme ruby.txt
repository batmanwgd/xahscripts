2011-07-21

On 18.07.2011 16:39, Xah Lee wrote:
> the problem is to write a script that can check a dir of text files
> (and all subdirs) and reports if a file has any mismatched matching
> brackets.
> …

On Jul 19, 11:23 pm, Robert Klemme <shortcut...@googlemail.com> wrote:
> https://gist.github.com/1087583
> 
> Small correction: my solution works differently (although internally the
> regexp engine will roughly do the same).  So, my approach summarized
> 
> - traverse a directory tree
> - for each found item of type "file"
> -    read the whole content
> -    throw it at a regexp which is anchored at the beginning
>       and does the recursive parsing
> -    report file if the match is shorter than the file
> 
> Note: special feature for recursive matching is used which Perl's regexp
> engine likely can do as well but many others don't.

hi Robert Klemme,

i tried to run the ruby code like this:
ruby validate_brackets_Robert_Klemme.rb   c:/Users/h3/web/xahlee_org/p/time_machine

i got this error:

validate_brackets_Robert_Klemme.rb:35: undefined (?...) sequence: /
      \A
      (?<tl>
        [^(){}\[\]\342\200\234\342\200\235\342\200\271\342\200\272\302\253\302\273\343\200\220\343\200\221\343\200\210\343\200\211\343\200\212\343\200\213\343\200\214\343\200\215\343\200\216\343\200\217]++
        | \( \g<tl>* \)
…

i don't know ruby so am not sure what's going on.

My version is: ruby 1.8.7 (2008-08-11 patchlevel 72) [i386-cygwin]

it's probably something trivial but i don't know ruby. Thanks a lot.

 Xah


